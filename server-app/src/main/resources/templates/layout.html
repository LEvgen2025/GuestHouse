<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Гостевой дом</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" th:href="@{/style.css?v=2}">
</head>
<body>
<!-- Боковая панель -->
<aside class="sidebar">
    <div class="sidebar-header">
        <h2>Гостевой дом</h2>
    </div>
    <ul class="sidebar-nav">
        <li><a th:href="@{/main-page}" th:classappend="${activePage == 'index'} ? 'active'"><i class="bi bi-list-ul"></i> Главная</a></li>
        <li><a th:href="@{/clients}" th:classappend="${activePage == 'clients'} ? 'active'"><i class="bi bi-people-fill"></i> Клиенты</a></li>
        <li><a th:href="@{/houses}" th:classappend="${activePage == 'houses'} ? 'active'"><i class="bi bi-house-fill"></i> Дома</a></li>
        <li><a th:href="@{/services}" th:classappend="${activePage == 'services'} ? 'active'"><i class="bi bi-bicycle"></i> Услуги</a></li>
        <li><a th:href="@{/rentals}" th:classappend="${activePage == 'rentals'} ? 'active'"><i class="bi bi-calendar2-check-fill"></i> Аренды</a></li>
        <li><a th:href="@{/rentalServices}" th:classappend="${activePage == 'rentalServices'} ? 'active'"><i class="bi bi-clipboard-fill"></i> Заказы</a></li>
        <li sec:authorize="hasRole('ROLE_ADMIN')">
            <a th:href="@{/admin}" th:classappend="${activePage == 'admin'} ? 'active'">
                <i class="bi bi-person-fill-gear"></i> Панель администратора
            </a>
        </li>
    </ul>
</aside>

<!-- Основное содержимое -->
<main class="main-content">
    <form action="/logout" method="post" class="logout-form">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <button type="submit" class="logout-btn">
            <i class="bi bi-box-arrow-right"></i> Выйти
        </button>
    </form>

    <div layout:fragment="content">
        <!-- Здесь будет подставляться content -->
    </div>
</main>
</body>
</html>
